(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);a(43);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(21),s=a(18),i=a(1),u=a(6),m=a(7),d=a(5),p=a.n(d),f=a(9),v=a(10),E=a.n(v),b="/api/login",g=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(b,t,{headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return window.localStorage.getItem("logintoken")},N=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(b,{},{headers:{Authorization:"bearer ".concat(h()),"Content-type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y={login:g,logout:function(){window.localStorage.removeItem("logintoken")},storeToken:function(e){window.localStorage.setItem("logintoken",e)},getToken:h,checkToken:N};a(71);var O=function(e){var t=e.setLoginToken,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(),v=Object(i.a)(f,2),E=v[0],b=v[1];return r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b(void 0),y.login({username:l,password:d}).then((function(e){y.storeToken(e.token),t(e.token)})).catch((function(e){var t,a;b((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))},className:"card card-body"},r.a.createElement("h4",null,"Please login"),E&&r.a.createElement("div",{className:"error-message p-1 m-1"},E),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",autoFocus:!0,type:"text",name:"username",onChange:function(e){o(e.target.value)},placeholder:"Username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"password",onChange:function(e){p(e.target.value)},placeholder:"Password",required:!0})),r.a.createElement("button",{className:"btn btn-primary"},"Login"),r.a.createElement("div",{className:"mt-1"},"New user? ",r.a.createElement(u.b,{to:"/register"},"Create an account!"))))},j={registerAccount:function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat("/api/register","/"),{username:t,email:a,password:n},{headers:{"Content-type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()};var w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),s=o[0],u=o[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],v=p[1],E=Object(n.useState)(!1),b=Object(i.a)(E,2),g=b[0],h=b[1],N=Object(n.useState)(),y=Object(i.a)(N,2),O=y[0],w=y[1];return g?r.a.createElement(m.a,{to:"/login"}):r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w(void 0),j.registerAccount(a,s,f).then((function(){h(!0)})).catch((function(e){var t,a;w((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))},className:"card card-body"},r.a.createElement("h4",null,"Please register"),O&&r.a.createElement("div",{className:"error-message p-1 m-1"},O),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",autoFocus:!0,type:"text",name:"username",onChange:function(e){c(e.target.value)},placeholder:"Username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",onChange:function(e){u(e.target.value)},placeholder:"Email Address"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"password",onChange:function(e){v(e.target.value)},placeholder:"Password",required:!0})),r.a.createElement("button",{className:"btn btn-primary"},"Register")))},k=function(e,t){return"".concat("/search","?q=").concat(e,"&near=").concat(t)};a(73);var x=function(e){var t=e.lastQuery,a=e.lastLocation,c=Object(n.useState)(t||""),l=Object(i.a)(c,2),o=l[0],s=l[1],u=Object(n.useState)(a||""),d=Object(i.a)(u,2),p=d[0],f=d[1],v=Object(m.g)(),E=Object(m.h)(),b=Object(n.useState)(),g=Object(i.a)(b,2),h=g[0],N=g[1];return Object(n.useEffect)((function(){a&&f(a)}),[a]),r.a.createElement("div",{className:"/"===E.pathname?"search-page":""},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center ".concat("/"===E.pathname&&"search-panel")},"/"===E.pathname&&r.a.createElement("h2",{className:"search-panel-title"},"Find your next meal here"),r.a.createElement("form",{className:"form-inline justify-content-center p-2"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"search",value:o,placeholder:"Restaurant or Cuisine",onChange:function(e){s(e.target.value)},className:"form-control mx-2 input-box",size:50,required:!0}),r.a.createElement("input",{type:"text",name:"location",value:p,placeholder:"Location",onChange:function(e){f(e.target.value)},className:"form-control mx-2 input-box",size:30}),r.a.createElement("button",{className:"btn btn-primary px-5 input-box",onClick:function(e){e.preventDefault(),""!==o&&(""===p?(N(void 0),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){v.push(k(o,"".concat(e.coords.latitude,",").concat(e.coords.longitude)))}),(function(){N("An error occured. Cannot find your location.")})):N("Navigator unavailable. Cannot find your location.")):v.push(k(o,"".concat(p))))}},"Go"))),h&&r.a.createElement("div",{className:"error-message p-1 m-1"},h)))};var S=a(42);function C(e){for(var t=e.rating,a=e.className,n=Math.floor(t),c=t-n,l=[],o=0;o<n;o++)l.push(r.a.createElement("i",{key:o+"star",className:"fas fa-star"}));return c>=.75?l.push(r.a.createElement("i",{key:"laststar",className:"fas fa-star"})):c>=.25&&l.push(r.a.createElement("i",{key:"laststar",className:"fas fa-star-half"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:a},t)," ",r.a.createElement("small",{className:"text-warning"},l))}function L(e){var t=e.priceLevel,a=e.className;return r.a.createElement("span",{className:a},"$".repeat(t))}function T(e){var t=e.openingTime,a=e.className,n=t[(new Date).getDay()];return r.a.createElement("span",{className:a},n)}var A=function(e){var t=e.restaurant;return e.verbose?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Info"),r.a.createElement("h6",null,t.name),r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.google.ca/maps/dir//".concat(t.address)},r.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(t.location.lat,",").concat(t.location.lng,"&markers=").concat(t.location.lat,",").concat(t.location.lng,"&zoom=13&size=286x200&key=").concat("AIzaSyBHH58s532xysILnS4sorlBgeDelnpb3GY")}))),r.a.createElement("div",{className:"font-weight-bold mt-3"},"Location"),r.a.createElement("div",null,t.address),r.a.createElement("div",{className:"font-weight-bold mt-3"},"Hours of Operation"),r.a.createElement("div",null,r.a.createElement(T,{openingTime:t.opening_time})),r.a.createElement("div",{className:"font-weight-bold mt-3"},"Cuisine"),r.a.createElement("div",null,t.keywords?t.keywords.join(", "):"Not available"),r.a.createElement("div",{className:"font-weight-bold mt-3"},"Payment Options"),r.a.createElement("div",null,t.payment?t.payment.join(", "):"Not available")):r.a.createElement("div",{className:"p-3"},r.a.createElement("h6",null,t.name),r.a.createElement(C,{rating:t.rating,className:"small text-muted"}),r.a.createElement("small",{className:"text-muted"},"(",t.user_ratings_total,")")," \xb7 ",r.a.createElement(L,{priceLevel:t.price_level,className:"small text-muted"}),r.a.createElement("br",null),t.keywords&&r.a.createElement("small",{className:"text-muted"},t.keywords.join(" \xb7 ")),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted"},t.address),r.a.createElement("br",null),r.a.createElement(T,{openingTime:t.opening_time,className:"small text-muted"}),r.a.createElement("br",null))},F="/api/restaurant",R={getAllRestaurants:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(F,{headers:{"Content-type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRestaurant:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(F,"/").concat(t),{headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchRestaurantByKeywords:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(F,"/location/").concat(t,"/query/").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),placeOrderAtRestaurant:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(F,"/").concat(t),a,{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),routeToRestaurant:function(e){return"".concat("/place","/").concat(e)}};a(75);var D=function(e){var t=e.keyword,a=e.location,c=e.locationQuery,l=e.address,o=e.setLocation,s=Object(n.useState)(""),d=Object(i.a)(s,2),p=d[0],f=d[1],v=Object(n.useState)({}),E=Object(i.a)(v,2),b=E[0],g=E[1],h=Object(n.useState)(),N=Object(i.a)(h,2),y=N[0],O=N[1],j=Object(n.useState)([]),w=Object(i.a)(j,2),k=w[0],x=w[1],C=Object(m.g)(),L=document.getElementById("map"),T=Object(n.useState)(),F=Object(i.a)(T,2),D=F[0],P=F[1];return Object(n.useEffect)((function(){if(L){var e=new google.maps.Map(L,{center:a,zoom:13});google.maps.event.addListener(e,"center_changed",(function(){var t=e.getCenter().toJSON();o(t)})),k.map((function(t){var a=new google.maps.Marker({position:t.location,map:e,title:t.name}),n=new google.maps.InfoWindow({content:""});a.addListener("mouseover",(function(){var c=Object(S.renderToString)(r.a.createElement(A,{restaurant:t,verbose:!1}));n.setContent(c),n.open(e,a)})),a.addListener("mouseout",(function(){n.close()})),a.addListener("click",(function(){C.push("".concat(R.routeToRestaurant(t.id)))}))})),O(e)}}),[L,k]),Object(n.useEffect)((function(){y&&l&&function(e,t,a){var n=e.getCenter(),r=n?new google.maps.LatLngBounds({lat:n.lat()-1,lng:n.lng()-1},{lat:n.lat()+1,lng:n.lng()+1}):void 0;(new google.maps.Geocoder).geocode({address:t,bounds:r},(function(e,t){"OK"===t&&a(e[0].geometry.location.toJSON())}))}(y,l,o)}),[y,c,l]),Object(n.useEffect)((function(){if(P(void 0),a){if(t===p&&a===b)return;R.searchRestaurantByKeywords("".concat(a.lat,",").concat(a.lng),t).then((function(e){x(e),f(t),g(a)})).catch((function(e){var t,a;P((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}}),[c,l,t]),r.a.createElement("div",{className:"map-panel"},r.a.createElement("div",{id:"searchResult"},D&&r.a.createElement("div",{className:"error-message p-1 m-1"},D),r.a.createElement("ul",{className:"list-group"},k.map((function(e){return r.a.createElement("li",{key:e.id,className:"list-group-item info-card p-0"},r.a.createElement(u.b,{to:R.routeToRestaurant(e.id)},r.a.createElement(A,{restaurant:e,verbose:!1})))})))),r.a.createElement("div",{id:"map"}))};var P=function(){var e=new URLSearchParams(Object(m.h)().search),t=e.get("q")||"",a=e.get("near"),c=Object(n.useState)(),l=Object(i.a)(c,2),o=l[0],s=l[1],u=Object(n.useState)(),d=Object(i.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(""),E=Object(i.a)(v,2),b=E[0],g=E[1];return Object(n.useEffect)((function(){a?a.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/)?(s({lat:parseFloat(a.split(",")[0]),lng:parseFloat(a.split(",")[1])}),f(a),g("")):(g(a),s(void 0),f(void 0)):s(void 0)}),[a]),r.a.createElement("div",null,r.a.createElement(x,{lastQuery:t,lastLocation:o?"".concat(o.lat.toFixed(4),",").concat(o.lng.toFixed(4)):b}),r.a.createElement(D,{keyword:t,location:o||void 0,locationQuery:p||"",address:o?"":b,setLocation:s}))},I=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"MODAL_SHOW":return{name:null===(e=r.data)||void 0===e?void 0:e.name,description:null===(t=r.data)||void 0===t?void 0:t.description,price:null===(a=r.data)||void 0===a?void 0:a.price};case"MODAL_HIDE":return null;default:return n}},M=function(e){return{type:"ORDER_FOOD",data:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_FOOD":return 0===e.filter((function(e){var a;return e.name===(null===(a=t.data)||void 0===a?void 0:a.name)})).length?e.concat(t.data):0===(null===(a=t.data)||void 0===a?void 0:a.quantity)?e.filter((function(e){var a;return e.name!==(null===(a=t.data)||void 0===a?void 0:a.name)})):e.map((function(e){var a;return e.name===(null===(a=t.data)||void 0===a?void 0:a.name)?t.data:e}));var a;case"ORDER_CLEAR":return[];default:return e}},B=a(14),q=a(19);a(76);function z(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.modal})),a=null!==t,c=Object(n.useState)(1),l=Object(i.a)(c,2),o=l[0],u=l[1],m=t?t.price*o:0,d=function(){e({type:"MODAL_HIDE",data:null}),u(1)};return r.a.createElement(B.a,{show:a,onHide:d,animation:!1},r.a.createElement(B.a.Header,{closeButton:!0},r.a.createElement(B.a.Title,null,"Add to Order")),r.a.createElement(B.a.Body,null,t&&r.a.createElement("div",{className:"m-2"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.description))),r.a.createElement(B.a.Footer,{className:"justify-content-between"},r.a.createElement(q.a,{variant:"secondary",onClick:d},"Cancel"),t&&r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",null,"Quantity: "),r.a.createElement("input",{type:"number",defaultValue:1,min:"1",max:"99",onChange:function(e){u(parseInt(e.target.value))},className:"form-control number mx-1"}),r.a.createElement(q.a,{variant:"outline-primary",onClick:function(){t&&e(M({name:t.name,price:t.price,quantity:o})),e({type:"MODAL_HIDE",data:null}),u(1)},className:"add-button"},"$",m.toFixed(2)," Add to Order"))))}function H(e){var t=e.item,a=Object(s.b)();return r.a.createElement("div",{className:"card menu-item m-2",onClick:function(){a(function(e){return{type:"MODAL_SHOW",data:e}}({name:t.name,description:t.description,price:t.price}))}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.description),r.a.createElement("div",null,"$",t.price)))}var $=function(e){var t=e.menu;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.name,className:"my-4"},r.a.createElement("h4",null,e.name),r.a.createElement("div",{className:"d-flex flex-wrap"},e.items.map((function(t){return r.a.createElement(H,{key:"".concat(e.name,"-").concat(t.name),item:t})}))))})),r.a.createElement(z,null))},Q="/api/order",G={getAllOrders:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(Q,"/"),{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOrder:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(Q,"/").concat(t),{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),routeToConfirmation:function(e){return"".concat("/order","/").concat(e)},totalPrice:function(e){return e.items.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)}};a(78);var J=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(m.i)().placeID,o=Object(s.c)((function(e){return e.order})),u=Object(s.b)(),d=Object(m.g)(),p=Object(n.useState)(),f=Object(i.a)(p,2),v=f[0],E=f[1];Object(n.useEffect)((function(){E(void 0),R.getRestaurant(l).then((function(e){c(e)})).catch((function(e){var t,a;E((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}),[l]);var b=function(){E(void 0),a&&a.id&&R.placeOrderAtRestaurant(a.id,o).then((function(e){u({type:"ORDER_CLEAR"}),d.push(G.routeToConfirmation(e.id))})).catch((function(e){var t,a;E((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))},g=function(e){return function(t){e&&u(M({name:e.name,price:e.price,quantity:parseInt(t.target.value)}))}};return r.a.createElement("div",{className:"place-view"},a?r.a.createElement("div",{className:"place-info p-3"},r.a.createElement("h1",{className:"font-weight-bold"},a.name),v&&r.a.createElement("div",{className:"error-message p-1 m-1"},v),r.a.createElement("div",{className:"font-weight-bold"},a.rating&&r.a.createElement(C,{rating:a.rating})," ",r.a.createElement("span",null,a.user_ratings_total," reviews")," \xb7 ",a.price_level&&r.a.createElement(L,{priceLevel:a.price_level})," \xb7 ",r.a.createElement("span",null,a.keywords.join(" \xb7 "))),r.a.createElement("hr",null),r.a.createElement($,{menu:a.menus})):r.a.createElement("div",null,v&&r.a.createElement("div",{className:"error-message p-1 m-1"},v)),a&&r.a.createElement("div",{className:"booking-info p-3"},r.a.createElement("div",{className:"card card-body shadow-sm rounded"},r.a.createElement("h5",null,"Order"),r.a.createElement("div",null,o.map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("div",{className:"my-1"},r.a.createElement("input",{type:"number",onChange:g(e),defaultValue:e.quantity,min:0,max:99,className:"form-control number"}),e.name))})),r.a.createElement("hr",null),r.a.createElement("div",{className:"float-right"},"Total: $",function(e){return e.reduce((function(e,t){return e+function(e){return e.price*e.quantity}(t)}),0)}(o).toFixed(2))),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-center"},a.takeaway&&r.a.createElement("button",{type:"button",onClick:b,disabled:0===o.length,className:"btn btn-danger px-4 mx-1"},"Takeout"),a.delivery&&r.a.createElement("button",{type:"button",onClick:b,disabled:0===o.length,className:"btn btn-danger px-4 mx-1"},"Delivery"))),r.a.createElement("div",{className:"card card-body shadow-sm mt-3"},r.a.createElement(A,{restaurant:a,verbose:!0}))))};a(79);var U=function(e){var t=e.order,a=e.title,n=e.footer;return r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",null,a),r.a.createElement("small",{className:"text-muted"},"Ordered at ",new Date(t.createTime).toLocaleString()),r.a.createElement("hr",null),r.a.createElement(u.b,{to:"/place/".concat(t.restaurant.id)},r.a.createElement("h5",{className:"card-title"},t.restaurant.name)),t.items.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("span",null,e.name)," x ",r.a.createElement("span",null,e.quantity)," : ",r.a.createElement("span",null,"$",e.price*e.quantity))})),r.a.createElement("hr",null),r.a.createElement("span",null,n))};var W=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],d=o[1],p=Object(m.i)().orderID,f=Object(n.useState)(),v=Object(i.a)(f,2),E=v[0],b=v[1];return Object(n.useEffect)((function(){b(void 0),p?G.getOrder(p).then((function(e){c(e.data)})).catch((function(e){var t,a;b((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")})):G.getAllOrders().then((function(e){d(e.data),c(void 0)})).catch((function(e){var t,a;b((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}),[p]),r.a.createElement("div",{className:"order-view p-3"},r.a.createElement("div",null),r.a.createElement("div",null,E&&r.a.createElement("div",{className:"error-message p-1 m-1"},E),a?r.a.createElement("div",{className:"confirmation-view"},r.a.createElement("div",{className:"order-panel"},r.a.createElement("div",{className:"card"},r.a.createElement(U,{order:a,title:"Your order is ".concat(a.complete?"completed":"confirmed","!"),footer:"Total: $".concat(G.totalPrice(a))})))):r.a.createElement("div",null,r.a.createElement("h1",{className:"font-weight-bold"},"Order history"),r.a.createElement("hr",null),r.a.createElement("div",{className:"order-panel"},s.length>0?s.map((function(e){return r.a.createElement(u.b,{key:e.id,to:G.routeToConfirmation(e.id),className:"card m-1"},r.a.createElement("div",null,r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-title"},e.complete?r.a.createElement("span",{className:"badge badge-primary float-right"},"Complete"):r.a.createElement("span",{className:"badge badge-secondary float-right"},"Imcomplete"),r.a.createElement("h4",null,e.restaurant.name)),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("small",{className:"small text-muted"},new Date(e.createTime).toDateString()),r.a.createElement("small",{className:"small"},"Total: $",G.totalPrice(e))))))})):r.a.createElement("div",null,"You don't have any past order at the moment")))))},K="/api/manage",V={addRestaurant:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(K,"/restaurants"),t,{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),manageRestaurant:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"".concat(K,"/restaurants/").concat(t):K,e.next=3,E.a.get(a,{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),restaurantOrders:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(K,"/restaurants/").concat(t,"/orders"),{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateOrderStatus:function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.put("".concat(K,"/restaurants/").concat(t,"/orders/").concat(a),{status:n},{headers:{Authorization:"bearer ".concat(y.getToken()),"Content-type":"application/json"}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),routeToRestaurant:function(e){return"".concat("/manage","/").concat(e)}};a(80);function Y(e){var t=e.order,a=e.setOrder,c=e.updateOrder,l=Object(n.useState)(!1),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(),d=Object(i.a)(m,2),p=d[0],f=d[1],v=function(){f(void 0),a(void 0)};return Object(n.useEffect)((function(){u(!!t)}),[t]),r.a.createElement(B.a,{show:s,onHide:v,animation:!1},r.a.createElement(B.a.Header,{closeButton:!0},r.a.createElement(B.a.Title,null,"Order ",null===t||void 0===t?void 0:t.id)),r.a.createElement(B.a.Body,null,p&&r.a.createElement("div",{className:"error-message p-1 m-1"},p),r.a.createElement("div",null,"Order is complete?")),r.a.createElement(B.a.Footer,{className:"justify-content-between"},r.a.createElement(q.a,{variant:"secondary",onClick:v},"Cancel"),r.a.createElement(q.a,{variant:"outline-primary",onClick:function(){f(void 0),(null===t||void 0===t?void 0:t.restaurant.id)&&(null===t||void 0===t?void 0:t.id)?V.updateOrderStatus(t.restaurant.id,t.id,"complete").then((function(e){c(e),v()})).catch((function(e){var t,a;f((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")})):v()},className:"add-button"},"Complete")))}var X=function(e){var t=e.restaurants,a=e.placeID,c=Object(n.useState)([]),l=Object(i.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(),d=Object(i.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(),E=Object(i.a)(v,2),b=E[0],g=E[1],h=function(e){f(e)};Object(n.useEffect)((function(){a&&1==t.length&&t[0].id&&V.restaurantOrders(t[0].id).then((function(e){s(e)})).catch((function(e){var t,a;g((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}),[t]);var N=o.filter((function(e){return!e.complete})),y=o.filter((function(e){return e.complete}));return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement("div",{className:"error-message p-1 m-1"},b),0===t.length?r.a.createElement("div",null,"You don't have any restaurant registered at the moment."):r.a.createElement("div",{className:a&&1===t.length?"manage-panel manage-panel-4":"manage-panel manage-panel-3"},r.a.createElement("div",{className:"p-3"},void 0===a?r.a.createElement("div",{className:"d-flex flex-wrap"},t.map((function(e){return r.a.createElement(u.b,{to:V.routeToRestaurant(e.id),key:e.id,className:"manage-restaurant-link"},r.a.createElement("div",{className:"card manage-restaurant-card m-2"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("div",{className:"card-text"},e.address))))}))):r.a.createElement("div",null,r.a.createElement("h5",null,"Imcomplete Orders:"),0===N.length?r.a.createElement("div",null,"No recent order"):r.a.createElement("div",{className:"mt-2"},N.map((function(e){return r.a.createElement("div",{key:e.id,className:"card manage-order-card m-2",onClick:function(){return h(e)}},r.a.createElement(U,{order:e,title:"Order ".concat(e.id),footer:"$".concat(G.totalPrice(e))}))}))),r.a.createElement("hr",null),r.a.createElement("h5",null,"Past Orders:"),0===y.length?r.a.createElement("div",null,"No recent order"):r.a.createElement("div",{className:"mt-2"},y.map((function(e){return r.a.createElement("div",{key:e.id,className:"card manage-order-card m-2",onClick:function(){return h(e)}},r.a.createElement(U,{order:e,title:"Order ".concat(e.id),footer:"$".concat(G.totalPrice(e))}))}))))),r.a.createElement("div",{className:"p-3"},a&&1===t.length?r.a.createElement("div",{className:"card card-body shadow-sm"},r.a.createElement(A,{restaurant:t[0],verbose:!0})):r.a.createElement("div",null))),r.a.createElement(Y,{order:p,setOrder:f,updateOrder:function(e){s(o.map((function(t){return t.id===e.id?e:t})))}}))},Z=a(26);a(81);var ee=function(e){var t=e.list,a=e.setList,c=e.options,l=e.limit,o=e.message,s=Object(n.useState)(c.filter((function(e){return!t.includes(e)}))[0]),u=Object(i.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){d(c.filter((function(e){return!t.includes(e)}))[0])}),[t]),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"opt"},r.a.createElement("h5",null,o,":")),r.a.createElement("div",{className:"mb-1"},t.map((function(e){return r.a.createElement("span",{className:"badge selected-badge mx-1",key:e},e,r.a.createElement("sup",{className:"selected-x",onClick:function(){return function(e){a(t.filter((function(t){return t!=e})))}(e)}},"x"))}))),r.a.createElement("div",{className:"form-inline"},r.a.createElement("select",{className:"form-control",id:"opt",value:m,onChange:function(e){return d(e.target.value)}},c.filter((function(e){return!t.includes(e)})).map((function(e){return r.a.createElement("option",{key:e},e)})),r.a.createElement("option",null,"Other")),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-1",onClick:function(){a(t.concat(m))},disabled:t.length>=l},"Add"))))},te=a(23);a(82);function ae(e){var t=e.menu,a=e.menus,c=e.setMenus,l=Object(n.useState)(""),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),p=d[0],f=d[1],v=Object(n.useState)(0),E=Object(i.a)(v,2),b=E[0],g=E[1];return r.a.createElement("div",{key:t.name},r.a.createElement("h5",null,t.name),r.a.createElement("div",{className:"d-flex flex-wrap"},t.items.map((function(e){return r.a.createElement("div",{className:"card menu-card",key:e.name},r.a.createElement("div",null,r.a.createElement("button",{className:"float-right btn btn-light delete-button",onClick:function(){return function(e){c(a.map((function(a){return a.name===t.name?Object(te.a)(Object(te.a)({},t),{},{items:t.items.filter((function(t){return t.name!==e.name}))}):a})))}(e)}},"x"),r.a.createElement("div",null,r.a.createElement("span",null,e.name)),r.a.createElement("div",null,r.a.createElement("span",null,e.description)),r.a.createElement("div",null,r.a.createElement("span",null,"$",e.price))))}))),r.a.createElement("div",{className:"card menu-card"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Item name",maxLength:40,value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement("textarea",{className:"form-control",placeholder:"Description",rows:3,value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"number",id:"price",className:"form-control",placeholder:"Unit price",value:b,onChange:function(e){return g(parseFloat(e.target.value))},min:0,step:.01})),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",disabled:!(b>=0&&s.length>0),onClick:function(){c(a.map((function(e){return e.name===t.name?Object(te.a)(Object(te.a)({},t),{},{items:t.items.concat({name:s,description:p,price:b})}):e}))),u(""),f(""),g(0)}},"Add Item")))}var ne=function(e){var t=e.menus,a=e.setMenus,c=Object(n.useState)(""),l=Object(i.a)(c,2),o=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("h5",null,"Menus:")),t.map((function(e){return r.a.createElement("div",{className:"border rounded p-2 mx-1 my-2",key:e.name},r.a.createElement("button",{className:"float-right btn btn-light delete-button",onClick:function(){return function(e){a(t.filter((function(t){return t.name!==e.name})))}(e)}},"x"),r.a.createElement(ae,{menu:e,menus:t,setMenus:a}))})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Menu name",value:o,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary ml-1",disabled:""===o,onClick:function(){""!==o&&(a(t.concat({name:o,items:[]})),s(""))}},"Add Menu"))))};var re=function(e){var t=e.handleAddRestaurant,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(["09:00-21:00","09:00-21:00","09:00-21:00","09:00-21:00","09:00-21:00","09:00-21:00","09:00-21:00"]),f=Object(i.a)(p,2),v=f[0],E=f[1],b=Object(n.useState)([]),g=Object(i.a)(b,2),h=g[0],N=g[1],y=Object(n.useState)([]),O=Object(i.a)(y,2),j=O[0],w=O[1],k=Object(n.useState)(!1),x=Object(i.a)(k,2),S=x[0],C=x[1],L=Object(n.useState)(!1),T=Object(i.a)(L,2),A=T[0],F=T[1],R=Object(n.useState)([]),D=Object(i.a)(R,2),P=D[0],I=D[1],M=Object(n.useState)({lat:"0",lng:"0"}),_=Object(i.a)(M,2),B=_[0],q=_[1],z=Object(n.useState)(),H=Object(i.a)(z,2),$=H[0],Q=H[1],G=function(e){var t=e.split("-"),a=Object(i.a)(t,2),n=a[0],r=a[1];return[].concat(Object(Z.a)(n.split(":")),Object(Z.a)(r.split(":")))},J=function(e,t,a){var n=Object(Z.a)(v),r=G(n[e]);r[a]="0".concat(t).slice(-2),n[e]="".concat(r[0],":").concat(r[1],"-").concat(r[2],":").concat(r[3]),E(n)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Q(void 0),""===l?Q("Name cannot be empty"):""===m?Q("Address cannot be empty"):0===h.length?Q("Please choose at least one keyword"):0===P.length?Q("Please have at least one menu"):P.filter((function(e){return 0==e.items.length})).length>0?Q("Please have at least one item in a menu"):"0"===B.lat||"0"===B.lng?Q("Please enter valid coordinates"):V.addRestaurant({name:l,address:m,opening_time:v,keywords:h,payment:j,delivery:S,takeaway:A,menus:P,location:{lat:parseFloat(B.lat),lng:parseFloat(B.lng)}}).then((function(e){t(e)})).catch((function(e){var t,a;Q((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}},$&&r.a.createElement("div",{className:"error-message p-1 m-1"},$),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restaurantName"},r.a.createElement("h5",null,"Restaurant Name:")),r.a.createElement("input",{type:"text",className:"form-control",id:"restaurantName",placeholder:"Restaurant Name",onChange:function(e){return o(e.target.value)}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restaurantAddress"},r.a.createElement("h5",null,"Restaurant Address:")),r.a.createElement("input",{type:"text",className:"form-control",id:"restaurantAddress",placeholder:"Address",onChange:function(e){return d(e.target.value)}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"restaurantAddress"},r.a.createElement("h5",null,"Restaurant Location:")),r.a.createElement("div",{className:"form-inline",id:"restaurantAddress"},r.a.createElement("label",{htmlFor:"restaurantLatitude"},"Latitude:"),r.a.createElement("input",{type:"number",className:"form-control",id:"restaurantLatitude",placeholder:"Latitude",value:B.lat,onChange:function(e){return q({lat:e.target.value,lng:B.lng})}}),r.a.createElement("label",{htmlFor:"restaurantLongitude"},"Longitude:"),r.a.createElement("input",{type:"number",className:"form-control",id:"restaurantLongitude",placeholder:"Longitude",value:B.lng,onChange:function(e){return q({lat:B.lat,lng:e.target.value})}}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"openTime"},r.a.createElement("h5",null,"Opening Time:")),r.a.createElement("div",{id:"openTime"},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((function(e,t){return r.a.createElement("div",{key:e},r.a.createElement("div",{className:"form-row"},r.a.createElement("label",{htmlFor:"".concat(e,"-ch"),className:"col-1"},e,":"),r.a.createElement("input",{type:"number",className:"form-control col-1",id:"".concat(e,"-ch"),min:0,max:23,step:1,value:G(v[t])[0],onChange:function(e){return J(t,e.target.value,0)}}),r.a.createElement("label",{htmlFor:"".concat(e,"-om"),className:"mx-1"},":"),r.a.createElement("input",{type:"number",className:"form-control col-1",id:"".concat(e,"-om"),min:0,max:59,step:1,value:G(v[t])[1],onChange:function(e){return J(t,e.target.value,1)}}),r.a.createElement("label",{htmlFor:"".concat(e,"-ch"),className:"mx-1"},"to"),r.a.createElement("input",{type:"number",className:"form-control col-1",id:"".concat(e,"-ch"),min:0,max:23,step:1,value:G(v[t])[2],onChange:function(e){return J(t,e.target.value,2)}}),r.a.createElement("label",{htmlFor:"".concat(e,"-cm"),className:"mx-1"},":"),r.a.createElement("input",{type:"number",className:"form-control col-1",id:"".concat(e,"-cm"),min:0,max:59,step:1,value:G(v[t])[3],onChange:function(e){return J(t,e.target.value,3)}})))})))),r.a.createElement("hr",null),r.a.createElement(ee,{list:h,setList:N,options:["Canadian","Korean","Chinese","Indian","Italian","French","Turkish","American","Mexican","Japanese","Thai","Vietnam","Mongolian","Spanish","European","Asian","Mediterranean","African","Fusion","Continental","Breakfast","Lunch","Brunch","Fast food","Fine dining","Farm-to-table","Comfort food","Pub","Bar","Pizza","Pho","BBQ","Wings","Steakhouse","Sushi","Teppanyaki","Seafood"],limit:5,message:"Select up to 5 keywords:"}),r.a.createElement("hr",null),r.a.createElement(ee,{list:j,setList:w,options:["Visa","MasterCard","AMEX","Discover"],limit:4,message:"Select up to 4 payment methods:"}),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-check-label"},r.a.createElement("h5",null,"Delivery methods:")),r.a.createElement("div",null,r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"delivery",onChange:function(e){return C(e.target.checked)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"delivery"},"Delivery")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"takeaway",onChange:function(e){return F(e.target.checked)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"takeaway"},"Takeaway"))),r.a.createElement("hr",null),r.a.createElement(ne,{menus:P,setMenus:I}),r.a.createElement("hr",null),$&&r.a.createElement("div",{className:"error-message p-1 m-1"},$),r.a.createElement("button",{type:"submit",className:"btn btn-primary my-1"},"Submit"))};a(83);var ce=function(){var e=Object(n.useState)({username:"",name:"",restaurants:[]}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),s=o[0],u=o[1],d=Object(m.i)().placeID,p=Object(n.useState)(),f=Object(i.a)(p,2),v=f[0],E=f[1];return Object(n.useEffect)((function(){E(void 0),d?V.manageRestaurant(d).then((function(e){c(e)})).catch((function(e){var t,a;E((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")})):V.manageRestaurant().then((function(e){c(e)})).catch((function(e){var t,a;E((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Something went wrong. Please try again later.")}))}),[d]),r.a.createElement("div",{className:"business-view"},r.a.createElement("h1",{className:"font-weight-bold p-3"},"My Restaurants"),v&&r.a.createElement("div",{className:"error-message p-1 m-1"},v),s?r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return u(!1)}},"Cancel"):r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return u(!0)}},"Add a restaurant"),r.a.createElement("hr",null),s?r.a.createElement(re,{handleAddRestaurant:function(e){c(e),u(!1)}}):r.a.createElement(X,{restaurants:a.restaurants,placeID:d}))};var le=function(e){var t=e.setLoginToken;return Object(n.useEffect)((function(){t(null),y.logout()}),[]),r.a.createElement(m.a,{to:"/"})};a(84);var oe=function(){var e=Object(n.useState)(y.getToken()),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){a&&y.checkToken().catch((function(e){var t;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(y.logout(),c(null))}))}),[a]),r.a.createElement("div",{id:"app"},r.a.createElement(u.a,null,r.a.createElement("header",{className:"app-header d-flex justify-content-between"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/",className:"mx-1"},"Home")),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/order",className:"mx-1"},"My Orders"))),a?r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/manage",className:"mx-1"},"My Restaurants")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/logout",className:"mx-1"},"Logout"))):r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/login",className:"mx-1"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.b,{to:"/register",className:"mx-1"},"Register")))),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(x,null)),r.a.createElement(m.b,{path:"/search"},r.a.createElement(P,null)),r.a.createElement(m.b,{path:"/place/:placeID"},r.a.createElement(J,null)),r.a.createElement(m.b,{path:"/register"},r.a.createElement(w,null)),r.a.createElement(m.b,{path:"/login"},a?r.a.createElement(m.a,{to:"/"}):r.a.createElement(O,{setLoginToken:c})),r.a.createElement(m.b,{path:"/order/:orderID?"},a?r.a.createElement(W,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{path:"/manage/:placeID?"},a?r.a.createElement(ce,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{path:"/logout"},a?r.a.createElement(le,{setLoginToken:c}):r.a.createElement(m.a,{to:"/"})))))},se=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN":return{username:null===(e=n.data)||void 0===e?void 0:e.username,token:null===(t=n.data)||void 0===t?void 0:t.token};case"LOGOUT":return null;default:return a}},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))},ue=(a(85),Object(o.c)(Object(o.b)({login:se,modal:I,order:_})));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:ue},r.a.createElement(oe,null))),document.getElementById("root")),ie()}},[[86,1,2]]]);
//# sourceMappingURL=main.b900003f.chunk.js.map